{"version":3,"sources":["main.js"],"names":["elements","countSpan","document","querySelector","mainHeading","answers","btn","bullets","spans","footer","result","selectBox","getElementById","selected","options","selectedIndex","text","counter","correct","xhr","XMLHttpRequest","open","send","addEventListener","onreadystatechange","status","readyState","theResponse","JSON","parse","responseText","innerText","length","i","span","createElement","insertAdjacentElement","querySelectorAll","theQuestion","questionRender","submitBtn","right_answer","printResult","htmlEntities","str","String","replace","obj","title","innerHTML","el","insertAdjacentHTML","classList","add","answer","choices","forEach","checked","dataset","remove","p"],"mappings":"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","sourcesContent":["const elements = {\r\n  countSpan: document.querySelector('header .count span'),\r\n  mainHeading: document.querySelector('main h3'),\r\n  answers: document.querySelector('main .answers'),\r\n  btn: document.querySelector('.container main .footer .btn'),\r\n  bullets: document.querySelector('.bullets'),\r\n  spans: '',\r\n  footer: document.querySelector('.container main .footer'),\r\n  result: document.querySelector('.result'),\r\n  selectBox: document.getElementById('cat'),\r\n};\r\n\r\nlet selected = elements.selectBox.options[elements.selectBox.selectedIndex].text;\r\nlet counter = 0;\r\nlet correct = 0;\r\n\r\nconst xhr = new XMLHttpRequest();\r\nxhr.open('GET', `json/${selected}.json`, true);\r\nxhr.send();\r\n\r\nelements.selectBox.addEventListener('change', ()=> {\r\n  selected = elements.selectBox.options[elements.selectBox.selectedIndex].text;\r\n  xhr.open('GET', `json/${selected}.json`, true);\r\n  xhr.send();\r\n});\r\n\r\nxhr.onreadystatechange = () => {\r\n  if (xhr.status === 200 && xhr.readyState === 4) {\r\n    \r\n    theResponse = JSON.parse(xhr.responseText);\r\n\r\n    // get and put the count in the DOM\r\n    elements.countSpan.innerText = theResponse.length;\r\n\r\n    // create bullets\r\n    for (let i=0;i<theResponse.length;i++) {\r\n      const span = document.createElement('span');\r\n      elements.bullets.insertAdjacentElement('beforeend', span);\r\n    }\r\n    elements.spans = document.querySelectorAll('.bullets span');\r\n\r\n    // get the question\r\n    theQuestion = theResponse[counter];\r\n    questionRender(theQuestion);\r\n\r\n\r\n    // add click event to the button\r\n    elements.btn.addEventListener('click', () => {\r\n      submitBtn(theQuestion.right_answer);\r\n\r\n      if (counter !== theResponse.length - 1) {\r\n        // get next Question\r\n        counter++;\r\n        theQuestion = theResponse[counter];\r\n        questionRender(theQuestion);\r\n\r\n      } else {\r\n        printResult();\r\n      }\r\n      \r\n    });\r\n\r\n  }\r\n};\r\n\r\nfunction htmlEntities(str) {\r\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\r\n}\r\n\r\nfunction questionRender(obj) {\r\n  elements.mainHeading.innerText = obj.title;\r\n  elements.answers.innerHTML = '';\r\n  for (let i=1;i<=4;i++) {\r\n    let el = `\r\n    <div>\r\n      <input type=\"radio\" id=\"answer_${i}\" name=\"question\" data-answer=\"${obj[`answer_${i}`]}\" ${(i === 1)? `checked`: ``}>\r\n      <label for=\"answer_${i}\">${htmlEntities(obj[`answer_${i}`])}</label>\r\n    </div>\r\n    `;\r\n    \r\n    elements.answers.insertAdjacentHTML('beforeend', el);\r\n  }\r\n\r\n  elements.spans[counter].classList.add('on');\r\n}\r\n\r\nfunction submitBtn(answer) {\r\n  let choices = document.querySelectorAll('main .answers input');\r\n  choices.forEach(el => {\r\n    if (el.checked) {\r\n      if (el.dataset.answer == answer) {\r\n        correct++;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction printResult() {\r\n  elements.mainHeading.remove();\r\n\r\n  elements.answers.innerHTML = '';\r\n  elements.footer.innerText = '';\r\n  let p = `\r\n    <p>You passed in <span>${correct}</span> out of <span>${counter+1}</span> Questions</p>\r\n  `;\r\n  elements.result.innerHTML = p;\r\n}"],"file":"main.dev.js"}