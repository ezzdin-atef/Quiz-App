{"version":3,"sources":["main.js"],"names":["max_count","elements","countSpan","document","querySelector","mainHeading","answers","btn","bullets","spans","footer","result","selected","selectBox","options","selectedIndex","text","counter","correct","submitted","q","question","your_answer","correct_answer","open","XMLHttpRequest","questionRender","obj","label","createElement","title","htmlFor","innerHTML","input","len","Object","keys","length","start","Math","id","i","appendChild","insertAdjacentElement","type","concat","name","dataset","classList","checked","submitBtn","answer","choices","querySelectorAll","forEach","remove","add","el","printResult","push","heading","mainDiv","your_p","p","your_span","correct_span","correct_p","createTextNode","onclick","location","htmlEntities","str","reload","categories","String","replace","xhr","send","addEventListener","theResponse","parse","status","readyState","responseText","round","tmp","random","j","innerText","span","theQuestion","right_answer","disabled"],"mappings":"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","file":"main.min.js","sourcesContent":["const elements = {\r\n  countSpan:      document.querySelector('header .count span'),\r\n  mainHeading:    document.querySelector('main h3'),\r\n  answers:        document.querySelector('main .answers'),\r\n  btn:            document.querySelector('.container main .footer .btn'),\r\n  bullets:        document.querySelector('.bullets'),\r\n  spans:          '',\r\n  footer:         document.querySelector('.container main .footer'),\r\n  result:         document.querySelector('.result'),\r\n  selectBox:      document.getElementById('cat'),\r\n  categories:     document.querySelector('header .cat'),\r\n};\r\n\r\nlet selected = elements.selectBox.options[elements.selectBox.selectedIndex].text;\r\nlet counter = 0;\r\nlet correct = 0;\r\nlet max_count = 10;\r\nlet theResponse;\r\n\r\nlet submitted = [];\r\nlet q = {\r\n  question: '',\r\n  your_answer: '',\r\n  correct_answer: '',\r\n}\r\n\r\nconst xhr = new XMLHttpRequest();\r\nxhr.open('GET', `json/${selected}.json`, true);\r\nxhr.send();\r\n\r\nelements.selectBox.addEventListener('change', () => {\r\n  counter = 0;\r\n  correct = 0;\r\n  selected = elements.selectBox.options[elements.selectBox.selectedIndex].text;\r\n  xhr.open('GET', `json/${selected}.json`, true);\r\n  xhr.send();\r\n});\r\n\r\nxhr.onreadystatechange = () => {\r\n  if (xhr.status === 200 && xhr.readyState === 4) {\r\n    theResponse = JSON.parse(xhr.responseText);\r\n\r\n    // get the length\r\n    let len = theResponse.length;\r\n    // Shuffle the object\r\n    for (let i=0;i<len;i++) {\r\n      let j = i + Math.round(Math.random() * (len - i - 1));\r\n      let tmp = theResponse[j];\r\n      theResponse[j] = theResponse[i];\r\n      theResponse[i] = tmp;\r\n    }\r\n\r\n    // get and put the count in the DOM\r\n    elements.countSpan.innerText = max_count;\r\n\r\n    // create bullets\r\n    elements.bullets.innerHTML = '';\r\n    for (let i=0;i<max_count;i++) {\r\n      const span = document.createElement('span');\r\n      elements.bullets.insertAdjacentElement('beforeend', span);\r\n    }\r\n    elements.spans = document.querySelectorAll('.bullets span');\r\n\r\n    // get the question\r\n    theQuestion = theResponse[counter];\r\n    questionRender(theQuestion);\r\n\r\n  }\r\n};\r\n\r\n// add click event to the button\r\nelements.btn.addEventListener('click', () => {\r\n  submitBtn(theQuestion.right_answer, theQuestion.title);\r\n  elements.selectBox.disabled = true;\r\n  if (counter !== max_count - 1) {\r\n    // get next Question\r\n    counter++;\r\n    \r\n \r\n    theQuestion = theResponse[counter];\r\n    questionRender(theQuestion);\r\n\r\n  } else {\r\n    printResult();\r\n  }\r\n  \r\n});\r\n\r\nfunction questionRender(obj) {\r\n  elements.mainHeading.innerText = obj.title;\r\n  elements.answers.innerHTML = '';\r\n  let len = Object.keys(obj).length;\r\n  let start = Math.round(Math.random() * (len - 3));\r\n\r\n  for (let i=(start+1)%(len-2);;i=(i+1)%(len-2)) {\r\n\r\n    // Create the label\r\n    let label = document.createElement('label');\r\n    label.htmlFor = `answer_${i+1}`;\r\n\r\n    // Create the input field\r\n    let input = document.createElement('input');\r\n    input.type = 'radio';\r\n    input.id = `answer_${i+1}`;\r\n    input.name = 'question';\r\n    input.dataset.answer = `${obj[`answer_${i+1}`]}`;\r\n    if (i == (start+1)%(len-2)) input.checked = true;\r\n\r\n    label.appendChild(input);\r\n    label.appendChild(document.createTextNode(`${obj[`answer_${i+1}`]}`));\r\n    label.appendChild(document.createElement('span'));\r\n\r\n    \r\n\r\n    elements.answers.insertAdjacentElement('beforeend', label);\r\n    \r\n    if (i === start) break;\r\n  }\r\n\r\n  elements.spans[counter].classList.add('current');\r\n}\r\n\r\nfunction submitBtn(answer, title) {\r\n  let choices = document.querySelectorAll('main .answers input');\r\n  choices.forEach(el => {\r\n    if (el.checked) {\r\n      if (el.dataset.answer == answer) {\r\n        correct++;\r\n        elements.spans[counter].classList.remove('current');\r\n        elements.spans[counter].classList.add('on');\r\n      } else {\r\n        elements.spans[counter].classList.remove('current');\r\n        elements.spans[counter].classList.add('off');\r\n      }\r\n      // Store the sumbitted answers in an object\r\n      q = {\r\n        'question': title,\r\n        'your_answer': el.dataset.answer,\r\n        'correct_answer': answer\r\n      }\r\n      submitted.push(q);\r\n    }\r\n  });\r\n  \r\n}\r\n\r\nfunction printResult() {\r\n  elements.mainHeading.remove();\r\n\r\n  elements.answers.innerHTML = '';\r\n  elements.footer.innerText = '';\r\n  let p = `\r\n    <p>You passed in <span>${correct}</span> out of <span>${counter+1}</span> Questions</p>\r\n  `;\r\n  elements.result.innerHTML = p;\r\n\r\n  submitted.forEach(el => {\r\n\r\n    // create the main div\r\n    const mainDiv = document.createElement('div');\r\n    mainDiv.classList.add('questions-result');\r\n\r\n    // add the class which add the correct and wrong box\r\n    if (el.your_answer === el.correct_answer) mainDiv.classList.add('right');\r\n    else mainDiv.classList.add('wrong');\r\n\r\n    // create the h4\r\n    const heading = document.createElement('h4');\r\n    heading.appendChild(document.createTextNode(el.question));\r\n    mainDiv.appendChild(heading);\r\n\r\n    // create the first paragraph for the user answer\r\n    const your_p = document.createElement('p');\r\n    your_p.classList.add('your');\r\n\r\n    // the span\r\n    const your_span = document.createElement('span');\r\n    your_span.appendChild(document.createTextNode('Your Answer: '));\r\n\r\n    your_p.appendChild(your_span); // append the span inside the first paragraph\r\n    your_p.appendChild(document.createTextNode(el.your_answer)); // append the user answer in the paragraph\r\n\r\n    mainDiv.appendChild(your_p); // apend the first paragraph in the mian div \r\n\r\n    // create the second paragraph for the correct answer\r\n    const correct_p = document.createElement('p');\r\n    correct_p.classList.add('correct');\r\n\r\n    // the span\r\n    const correct_span = document.createElement('span');\r\n    correct_span.appendChild(document.createTextNode('correct Answer: '));\r\n\r\n    correct_p.appendChild(correct_span); // append the span inside the second paragraph\r\n    correct_p.appendChild(document.createTextNode(el.correct_answer)); // append the correct answer in the paragraph\r\n\r\n    mainDiv.appendChild(correct_p); // apend the second paragraph in the mian div \r\n    \r\n    elements.result.insertAdjacentElement('beforeend', mainDiv);\r\n\r\n    \r\n  });\r\n  \r\n  // add the refrech button\r\n  const btn = document.createElement('button');\r\n  btn.classList.add('btn');\r\n  btn.appendChild(document.createTextNode('Start again :)'));\r\n  btn.onclick = () => {\r\n    location.reload();\r\n  }; \r\n  elements.categories.appendChild(btn);\r\n}\r\n\r\n\r\nfunction htmlEntities(str) {\r\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\r\n}"]}