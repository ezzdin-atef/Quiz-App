{"version":3,"sources":["main.js"],"names":["max_count","elements","countSpan","document","querySelector","mainHeading","answers","btn","bullets","spans","footer","result","selected","selectBox","options","selectedIndex","text","counter","correct","submitted","q","question","your_answer","correct_answer","open","XMLHttpRequest","label","obj","htmlFor","innerText","title","innerHTML","input","len","createElement","Math","round","random","name","start","i","appendChild","createTextNode","type","id","concat","dataset","answer","checked","choices","forEach","add","classList","submitBtn","querySelectorAll","el","remove","printResult","p","mainDiv","your_p","correct_p","correct_span","heading","your_span","location","categories","console","log","insertAdjacentElement","onclick","reload","xhr","send","addEventListener","theResponse","parse","status","readyState","length","responseText","tmp","j","span","questionRender","theQuestion","right_answer"],"mappings":"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","file":"main.min.js","sourcesContent":["const elements = {\r\n  countSpan:      document.querySelector('header .count span'),\r\n  mainHeading:    document.querySelector('main h3'),\r\n  answers:        document.querySelector('main .answers'),\r\n  btn:            document.querySelector('.container main .footer .btn'),\r\n  bullets:        document.querySelector('.bullets'),\r\n  spans:          '',\r\n  footer:         document.querySelector('.container main .footer'),\r\n  result:         document.querySelector('.result'),\r\n  selectBox:      document.getElementById('cat'),\r\n  categories:     document.querySelector('header .cat'),\r\n};\r\n\r\nlet selected = elements.selectBox.options[elements.selectBox.selectedIndex].text;\r\nlet counter = 0;\r\nlet correct = 0;\r\nlet max_count = 10;\r\nlet theResponse;\r\n\r\nlet submitted = [];\r\nlet q = {\r\n  question: '',\r\n  your_answer: '',\r\n  correct_answer: '',\r\n}\r\n\r\nconst xhr = new XMLHttpRequest();\r\nxhr.open('GET', `json/${selected}.json`, true);\r\nxhr.send();\r\n\r\nelements.selectBox.addEventListener('change', () => {\r\n  counter = 0;\r\n  correct = 0;\r\n  selected = elements.selectBox.options[elements.selectBox.selectedIndex].text;\r\n  xhr.open('GET', `json/${selected}.json`, true);\r\n  xhr.send();\r\n});\r\n\r\nxhr.onreadystatechange = () => {\r\n  if (xhr.status === 200 && xhr.readyState === 4) {\r\n    theResponse = JSON.parse(xhr.responseText);\r\n\r\n    // get the length\r\n    let len = theResponse.length;\r\n    \r\n    // Shuffle the object\r\n    for (let i=0;i<len;i++) {\r\n      let j = i + Math.round(Math.random() * (len - i - 1));\r\n      let tmp = theResponse[j];\r\n      theResponse[j] = theResponse[i];\r\n      theResponse[i] = tmp;\r\n    }\r\n\r\n    // get and put the count in the DOM\r\n    elements.countSpan.innerText = max_count;\r\n\r\n    // create bullets\r\n    elements.bullets.innerHTML = '';\r\n    for (let i=0;i<max_count;i++) {\r\n      const span = document.createElement('span');\r\n      elements.bullets.insertAdjacentElement('beforeend', span);\r\n    }\r\n    elements.spans = document.querySelectorAll('.bullets span');\r\n\r\n    // get the question\r\n    theQuestion = theResponse[counter];\r\n    questionRender(theQuestion);\r\n\r\n  }\r\n};\r\n\r\n// add click event to the button\r\nelements.btn.addEventListener('click', () => {\r\n  submitBtn(theQuestion.right_answer, theQuestion.title);\r\n  elements.selectBox.disabled = true;\r\n  if (counter !== max_count - 1) {\r\n    // get next Question\r\n    counter++;\r\n    \r\n \r\n    theQuestion = theResponse[counter];\r\n    questionRender(theQuestion);\r\n\r\n  } else {\r\n    printResult();\r\n  }\r\n  \r\n});\r\n\r\nfunction questionRender(obj) {\r\n  elements.mainHeading.innerText = obj.title;\r\n  elements.answers.innerHTML = '';\r\n  let len = Object.keys(obj).length;\r\n  let start = Math.round(Math.random() * (len - 3));\r\n\r\n  for (let i=(start+1)%(len-2);;i=(i+1)%(len-2)) {\r\n\r\n    // Create the label\r\n    let label = document.createElement('label');\r\n    label.htmlFor = `answer_${i+1}`;\r\n\r\n    // Create the input field\r\n    let input = document.createElement('input');\r\n    input.type = 'radio';\r\n    input.id = `answer_${i+1}`;\r\n    input.name = 'question';\r\n    input.dataset.answer = `${obj[`answer_${i+1}`]}`;\r\n    if (i == (start+1)%(len-2)) input.checked = true;\r\n\r\n    label.appendChild(input);\r\n    label.appendChild(document.createTextNode(`${obj[`answer_${i+1}`]}`));\r\n    label.appendChild(document.createElement('span'));\r\n\r\n    \r\n\r\n    elements.answers.insertAdjacentElement('beforeend', label);\r\n    \r\n    if (i === start) break;\r\n  }\r\n\r\n  elements.spans[counter].classList.add('current');\r\n}\r\n\r\nfunction submitBtn(answer, title) {\r\n  let choices = document.querySelectorAll('main .answers input');\r\n  choices.forEach(el => {\r\n    if (el.checked) {\r\n      if (el.dataset.answer == answer) {\r\n        correct++;\r\n        elements.spans[counter].classList.remove('current');\r\n        elements.spans[counter].classList.add('on');\r\n      } else {\r\n        elements.spans[counter].classList.remove('current');\r\n        elements.spans[counter].classList.add('off');\r\n      }\r\n      // Store the sumbitted answers in an object\r\n      q = {\r\n        'question': title,\r\n        'your_answer': el.dataset.answer,\r\n        'correct_answer': answer\r\n      }\r\n      submitted.push(q);\r\n    }\r\n  });\r\n  \r\n}\r\n\r\nfunction printResult() {\r\n  elements.mainHeading.remove();\r\n\r\n  elements.answers.innerHTML = '';\r\n  elements.footer.innerText = '';\r\n  let p = `\r\n    <p>You passed in <span>${correct}</span> out of <span>${counter+1}</span> Questions</p>\r\n  `;\r\n  elements.result.innerHTML = p;\r\n\r\n  submitted.forEach(el => {\r\n\r\n    // create the main div\r\n    const mainDiv = document.createElement('div');\r\n    mainDiv.classList.add('questions-result');\r\n\r\n    // add the class which add the correct and wrong box\r\n    if (el.your_answer === el.correct_answer) mainDiv.classList.add('right');\r\n    else mainDiv.classList.add('wrong');\r\n\r\n    // create the h4\r\n    const heading = document.createElement('h4');\r\n    heading.appendChild(document.createTextNode(el.question));\r\n    mainDiv.appendChild(heading);\r\n\r\n    // create the first paragraph for the user answer\r\n    const your_p = document.createElement('p');\r\n    your_p.classList.add('your');\r\n\r\n    // the span\r\n    const your_span = document.createElement('span');\r\n    your_span.appendChild(document.createTextNode('Your Answer: '));\r\n\r\n    your_p.appendChild(your_span); // append the span inside the first paragraph\r\n    your_p.appendChild(document.createTextNode(el.your_answer)); // append the user answer in the paragraph\r\n\r\n    mainDiv.appendChild(your_p); // apend the first paragraph in the mian div \r\n\r\n    // create the second paragraph for the correct answer\r\n    const correct_p = document.createElement('p');\r\n    correct_p.classList.add('correct');\r\n\r\n    // the span\r\n    const correct_span = document.createElement('span');\r\n    correct_span.appendChild(document.createTextNode('correct Answer: '));\r\n\r\n    correct_p.appendChild(correct_span); // append the span inside the second paragraph\r\n    correct_p.appendChild(document.createTextNode(el.correct_answer)); // append the correct answer in the paragraph\r\n\r\n    mainDiv.appendChild(correct_p); // apend the second paragraph in the mian div \r\n    \r\n    elements.result.insertAdjacentElement('beforeend', mainDiv);\r\n\r\n    \r\n  });\r\n  \r\n  // add the refrech button\r\n  const btn = document.createElement('button');\r\n  btn.classList.add('btn');\r\n  btn.appendChild(document.createTextNode('Start again :)'));\r\n  btn.onclick = () => {\r\n    location.reload();\r\n  }; \r\n  elements.categories.appendChild(btn);\r\n}\r\n\r\nconsole.log('Made with ❤ By Ezzdin Atef');"]}