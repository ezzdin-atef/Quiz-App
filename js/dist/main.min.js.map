{"version":3,"sources":["main.js"],"names":["max_count","elements","countSpan","document","querySelector","mainHeading","answers","btn","bullets","spans","footer","result","selected","selectBox","options","selectedIndex","text","counter","correct","submitted","q","question","your_answer","correct_answer","open","XMLHttpRequest","questionRender","obj","mainDiv","createElement","innerHTML","input","len","Math","round","random","name","start","i","label","htmlFor","textContent","id","concat","appendChild","insertAdjacentElement","classList","choices","forEach","dataset","answer","submitBtn","title","querySelectorAll","el","checked","remove","push","add","innerText","printResult","heading","p","your_span","your_p","correct_p","correct_span","createTextNode","location","String","replace","onclick","reload","categories","htmlEntities","str","xhr","send","addEventListener","theResponse","parse","status","readyState","length","responseText","tmp","j","span","theQuestion","right_answer","disabled"],"mappings":"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","file":"main.min.js","sourcesContent":["const elements = {\r\n  countSpan:      document.querySelector('header .count span'),\r\n  mainHeading:    document.querySelector('main h3'),\r\n  answers:        document.querySelector('main .answers'),\r\n  btn:            document.querySelector('.container main .footer .btn'),\r\n  bullets:        document.querySelector('.bullets'),\r\n  spans:          '',\r\n  footer:         document.querySelector('.container main .footer'),\r\n  result:         document.querySelector('.result'),\r\n  selectBox:      document.getElementById('cat'),\r\n  categories:     document.querySelector('header .cat'),\r\n};\r\n\r\nlet selected = elements.selectBox.options[elements.selectBox.selectedIndex].text;\r\nlet counter = 0;\r\nlet correct = 0;\r\nlet max_count = 10;\r\nlet theResponse;\r\n\r\nlet submitted = [];\r\nlet q = {\r\n  question: '',\r\n  your_answer: '',\r\n  correct_answer: '',\r\n}\r\n\r\nconst xhr = new XMLHttpRequest();\r\nxhr.open('GET', `json/${selected}.json`, true);\r\nxhr.send();\r\n\r\nelements.selectBox.addEventListener('change', () => {\r\n  counter = 0;\r\n  correct = 0;\r\n  selected = elements.selectBox.options[elements.selectBox.selectedIndex].text;\r\n  xhr.open('GET', `json/${selected}.json`, true);\r\n  xhr.send();\r\n});\r\n\r\nxhr.onreadystatechange = () => {\r\n  if (xhr.status === 200 && xhr.readyState === 4) {\r\n    theResponse = JSON.parse(xhr.responseText);\r\n\r\n    // get the length\r\n    let len = theResponse.length;\r\n    // Shuffle the object\r\n    for (let i=0;i<len;i++) {\r\n      let j = i + Math.round(Math.random() * (len - i - 1));\r\n      let tmp = theResponse[j];\r\n      theResponse[j] = theResponse[i];\r\n      theResponse[i] = tmp;\r\n    }\r\n\r\n    // get and put the count in the DOM\r\n    elements.countSpan.innerText = max_count;\r\n\r\n    // create bullets\r\n    elements.bullets.innerHTML = '';\r\n    for (let i=0;i<max_count;i++) {\r\n      const span = document.createElement('span');\r\n      elements.bullets.insertAdjacentElement('beforeend', span);\r\n    }\r\n    elements.spans = document.querySelectorAll('.bullets span');\r\n\r\n    // get the question\r\n    theQuestion = theResponse[counter];\r\n    questionRender(theQuestion);\r\n\r\n  }\r\n};\r\n\r\n// add click event to the button\r\nelements.btn.addEventListener('click', () => {\r\n  submitBtn(theQuestion.right_answer, theQuestion.title);\r\n  elements.selectBox.disabled = true;\r\n  if (counter !== max_count - 1) {\r\n    // get next Question\r\n    counter++;\r\n    \r\n \r\n    theQuestion = theResponse[counter];\r\n    questionRender(theQuestion);\r\n\r\n  } else {\r\n    printResult();\r\n  }\r\n  \r\n});\r\n\r\nfunction questionRender(obj) {\r\n  elements.mainHeading.innerText = obj.title;\r\n  elements.answers.innerHTML = '';\r\n  let len = Object.keys(obj).length;\r\n  let start = Math.round(Math.random() * (len - 3));\r\n\r\n  for (let i=(start+1)%(len-2);;i=(i+1)%(len-2)) {\r\n    // Create the main div\r\n    let mainDiv = document.createElement('div');\r\n\r\n    // Create the input field\r\n    let input = document.createElement('input');\r\n    input.type = 'radio';\r\n    input.id = `answer_${i+1}`;\r\n    input.name = 'question';\r\n    input.dataset.answer = `${obj[`answer_${i+1}`]}`;\r\n    if (i == (start+1)%(len-2)) input.checked = true;\r\n\r\n    // Create the label\r\n    let label = document.createElement('label');\r\n    label.htmlFor = `answer_${i+1}`;\r\n    label.textContent = `${obj[`answer_${i+1}`]}`;\r\n\r\n    // apend the input and the label to the main div\r\n    mainDiv.appendChild(input);\r\n    mainDiv.appendChild(label);\r\n\r\n    elements.answers.insertAdjacentElement('beforeend', mainDiv);\r\n    \r\n    if (i === start) break;\r\n  }\r\n\r\n  elements.spans[counter].classList.add('current');\r\n}\r\n\r\nfunction submitBtn(answer, title) {\r\n  let choices = document.querySelectorAll('main .answers input');\r\n  choices.forEach(el => {\r\n    if (el.checked) {\r\n      if (el.dataset.answer == answer) {\r\n        correct++;\r\n        elements.spans[counter].classList.remove('current');\r\n        elements.spans[counter].classList.add('on');\r\n      } else {\r\n        elements.spans[counter].classList.remove('current');\r\n        elements.spans[counter].classList.add('off');\r\n      }\r\n      // Store the sumbitted answers in an object\r\n      q = {\r\n        'question': title,\r\n        'your_answer': el.dataset.answer,\r\n        'correct_answer': answer\r\n      }\r\n      submitted.push(q);\r\n    }\r\n  });\r\n  \r\n}\r\n\r\nfunction printResult() {\r\n  elements.mainHeading.remove();\r\n\r\n  elements.answers.innerHTML = '';\r\n  elements.footer.innerText = '';\r\n  let p = `\r\n    <p>You passed in <span>${correct}</span> out of <span>${counter+1}</span> Questions</p>\r\n  `;\r\n  elements.result.innerHTML = p;\r\n\r\n  submitted.forEach(el => {\r\n\r\n    // create the main div\r\n    const mainDiv = document.createElement('div');\r\n    mainDiv.classList.add('questions-result');\r\n\r\n    // add the class which add the correct and wrong box\r\n    if (el.your_answer === el.correct_answer) mainDiv.classList.add('right');\r\n    else mainDiv.classList.add('wrong');\r\n\r\n    // create the h4\r\n    const heading = document.createElement('h4');\r\n    heading.appendChild(document.createTextNode(el.question));\r\n    mainDiv.appendChild(heading);\r\n\r\n    // create the first paragraph for the user answer\r\n    const your_p = document.createElement('p');\r\n    your_p.classList.add('your');\r\n\r\n    // the span\r\n    const your_span = document.createElement('span');\r\n    your_span.appendChild(document.createTextNode('Your Answer: '));\r\n\r\n    your_p.appendChild(your_span); // append the span inside the first paragraph\r\n    your_p.appendChild(document.createTextNode(el.your_answer)); // append the user answer in the paragraph\r\n\r\n    mainDiv.appendChild(your_p); // apend the first paragraph in the mian div \r\n\r\n    // create the second paragraph for the correct answer\r\n    const correct_p = document.createElement('p');\r\n    correct_p.classList.add('correct');\r\n\r\n    // the span\r\n    const correct_span = document.createElement('span');\r\n    correct_span.appendChild(document.createTextNode('correct Answer: '));\r\n\r\n    correct_p.appendChild(correct_span); // append the span inside the second paragraph\r\n    correct_p.appendChild(document.createTextNode(el.correct_answer)); // append the correct answer in the paragraph\r\n\r\n    mainDiv.appendChild(correct_p); // apend the second paragraph in the mian div \r\n    \r\n    elements.result.insertAdjacentElement('beforeend', mainDiv);\r\n\r\n    \r\n  });\r\n  \r\n  // add the refrech button\r\n  const btn = document.createElement('button');\r\n  btn.classList.add('btn');\r\n  btn.appendChild(document.createTextNode('Start again :)'));\r\n  btn.onclick = () => {\r\n    location.reload();\r\n  }; \r\n  elements.categories.appendChild(btn);\r\n}\r\n\r\n\r\nfunction htmlEntities(str) {\r\n  return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\r\n}"]}