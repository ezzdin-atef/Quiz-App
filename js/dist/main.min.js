"use strict";var theResponse,elements={countSpan:document.querySelector("header .count span"),mainHeading:document.querySelector("main h3"),answers:document.querySelector("main .answers"),btn:document.querySelector(".container main .footer .btn"),bullets:document.querySelector(".bullets"),spans:"",footer:document.querySelector(".container main .footer"),result:document.querySelector(".result"),selectBox:document.getElementById("cat"),categories:document.querySelector("header .cat")},selected=elements.selectBox.options[elements.selectBox.selectedIndex].text,counter=0,correct=0,max_count=10,submitted=[],q={question:"",your_answer:"",correct_answer:""},xhr=new XMLHttpRequest;function questionRender(e){elements.mainHeading.innerText=e.title,elements.answers.innerHTML="";for(var t=Object.keys(e).length,n=Math.round(Math.random()*(t-3)),s=(n+1)%(t-2);;s=(s+1)%(t-2)){var r=document.createElement("label");r.htmlFor="answer_".concat(s+1);var o=document.createElement("input");if(o.type="radio",o.id="answer_".concat(s+1),o.name="question",o.dataset.answer="".concat(e["answer_".concat(s+1)]),s==(n+1)%(t-2)&&(o.checked=!0),r.appendChild(o),r.appendChild(document.createTextNode("".concat(e["answer_".concat(s+1)]))),r.appendChild(document.createElement("span")),elements.answers.insertAdjacentElement("beforeend",r),s===n)break}elements.spans[counter].classList.add("current")}function submitBtn(t,n){document.querySelectorAll("main .answers input").forEach(function(e){e.checked&&(e.dataset.answer==t?(correct++,elements.spans[counter].classList.remove("current"),elements.spans[counter].classList.add("on")):(elements.spans[counter].classList.remove("current"),elements.spans[counter].classList.add("off")),q={question:n,your_answer:e.dataset.answer,correct_answer:t},submitted.push(q))})}function printResult(){elements.mainHeading.remove(),elements.answers.innerHTML="",elements.footer.innerText="";var e="\n    <p>You passed in <span>".concat(correct,"</span> out of <span>").concat(counter+1,"</span> Questions</p>\n  ");elements.result.innerHTML=e,submitted.forEach(function(e){var t=document.createElement("div");t.classList.add("questions-result"),e.your_answer===e.correct_answer?t.classList.add("right"):t.classList.add("wrong");var n=document.createElement("h4");n.appendChild(document.createTextNode(e.question)),t.appendChild(n);var s=document.createElement("p");s.classList.add("your");var r=document.createElement("span");r.appendChild(document.createTextNode("Your Answer: ")),s.appendChild(r),s.appendChild(document.createTextNode(e.your_answer)),t.appendChild(s);var o=document.createElement("p");o.classList.add("correct");var a=document.createElement("span");a.appendChild(document.createTextNode("correct Answer: ")),o.appendChild(a),o.appendChild(document.createTextNode(e.correct_answer)),t.appendChild(o),elements.result.insertAdjacentElement("beforeend",t)});var t=document.createElement("button");t.classList.add("btn"),t.appendChild(document.createTextNode("Start again :)")),t.onclick=function(){location.reload()},elements.categories.appendChild(t)}xhr.open("GET","json/".concat(selected,".json"),!0),xhr.send(),elements.selectBox.addEventListener("change",function(){correct=counter=0,selected=elements.selectBox.options[elements.selectBox.selectedIndex].text,xhr.open("GET","json/".concat(selected,".json"),!0),xhr.send()}),xhr.onreadystatechange=function(){if(200===xhr.status&&4===xhr.readyState){for(var e=(theResponse=JSON.parse(xhr.responseText)).length,t=0;t<e;t++){var n=t+Math.round(Math.random()*(e-t-1)),s=theResponse[n];theResponse[n]=theResponse[t],theResponse[t]=s}elements.countSpan.innerText=max_count,elements.bullets.innerHTML="";for(var r=0;r<max_count;r++){var o=document.createElement("span");elements.bullets.insertAdjacentElement("beforeend",o)}elements.spans=document.querySelectorAll(".bullets span"),theQuestion=theResponse[counter],questionRender(theQuestion)}},elements.btn.addEventListener("click",function(){submitBtn(theQuestion.right_answer,theQuestion.title),elements.selectBox.disabled=!0,counter!==max_count-1?(theQuestion=theResponse[++counter],questionRender(theQuestion)):printResult()}),console.log("Made with ❤ By Ezzdin Atef");
//# sourceMappingURL=main.min.js.map
