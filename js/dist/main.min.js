"use strict";var elements={countSpan:document.querySelector("header .count span"),mainHeading:document.querySelector("main h3"),answers:document.querySelector("main .answers"),btn:document.querySelector(".container main .footer .btn"),bullets:document.querySelector(".bullets"),spans:"",footer:document.querySelector(".container main .footer"),result:document.querySelector(".result"),selectBox:document.getElementById("cat")},selected=elements.selectBox.options[elements.selectBox.selectedIndex].text,counter=0,correct=0,xhr=new XMLHttpRequest;function htmlEntities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function questionRender(e){elements.mainHeading.innerText=e.title,elements.answers.innerHTML="";for(var n=1;n<=4;n++){var t='\n    <div>\n      <input type="radio" id="answer_'.concat(n,'" name="question" data-answer="').concat(e["answer_".concat(n)],'" ').concat(1===n?"checked":"",'>\n      <label for="answer_').concat(n,'">').concat(htmlEntities(e["answer_".concat(n)]),"</label>\n    </div>\n    ");elements.answers.insertAdjacentHTML("beforeend",t)}elements.spans[counter].classList.add("on")}function submitBtn(n){document.querySelectorAll("main .answers input").forEach(function(e){e.checked&&e.dataset.answer==n&&correct++})}function printResult(){elements.mainHeading.remove(),elements.answers.innerHTML="",elements.footer.innerText="";var e="\n    <p>You passed in <span>".concat(correct,"</span> out of <span>").concat(counter+1,"</span> Questions</p>\n  ");elements.result.innerHTML=e}xhr.open("GET","json/".concat(selected,".json"),!0),xhr.send(),elements.selectBox.addEventListener("change",function(){selected=elements.selectBox.options[elements.selectBox.selectedIndex].text,xhr.open("GET","json/".concat(selected,".json"),!0),xhr.send()}),xhr.onreadystatechange=function(){if(200===xhr.status&&4===xhr.readyState){theResponse=JSON.parse(xhr.responseText),elements.countSpan.innerText=theResponse.length;for(var e=0;e<theResponse.length;e++){var n=document.createElement("span");elements.bullets.insertAdjacentElement("beforeend",n)}elements.spans=document.querySelectorAll(".bullets span"),theQuestion=theResponse[counter],questionRender(theQuestion),elements.btn.addEventListener("click",function(){submitBtn(theQuestion.right_answer),counter!==theResponse.length-1?(counter++,theQuestion=theResponse[counter],questionRender(theQuestion)):printResult()})}};
//# sourceMappingURL=main.min.js.map
